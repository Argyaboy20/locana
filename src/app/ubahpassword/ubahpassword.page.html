<ion-content [fullscreen]="true" class="ubahpassword-page">
  <div class="ubahpassword-container">
    <!-- Mobile View -->
    <div class="mobile-view">
      <div class="logo-section">
        <img src="/assets/logo.png" alt="Locana Logo" class="logo">
        <h1 class="app-name">LOCANA</h1>
      </div>
      
      <div class="form-container">
        <h2 class="change-password">Perubahan Password</h2>
        
        <div class="input-field password-field">
          <ion-icon name="lock-closed-outline"></ion-icon>
          <ion-input placeholder="Password Lama" [type]="showOldPassword ? 'text' : 'password'" [(ngModel)]="oldPassword"></ion-input>
          <ion-icon [name]="showOldPassword ? 'eye-outline' : 'eye-off-outline'" class="toggle-password" (click)="toggleOldPasswordVisibility()" tappable></ion-icon>
        </div>
        
        <div class="input-field password-field">
          <ion-icon name="lock-closed-outline"></ion-icon>
          <ion-input placeholder="Password Baru" [type]="showNewPassword ? 'text' : 'password'" [(ngModel)]="newPassword"></ion-input>
          <ion-icon [name]="showNewPassword ? 'eye-outline' : 'eye-off-outline'" class="toggle-password" (click)="toggleNewPasswordVisibility()" tappable></ion-icon>
        </div>
        
        <div class="password-requirements" *ngIf="newPassword">
          <p [ngClass]="{'valid': passwordRequirements.minLength}">Minimal 6 karakter</p>
          <p [ngClass]="{'valid': passwordRequirements.hasUpperCase}">Mengandung huruf kapital</p>
          <p [ngClass]="{'valid': passwordRequirements.hasLowerCase}">Mengandung huruf kecil</p>
          <p [ngClass]="{'valid': passwordRequirements.hasNumber}">Mengandung angka</p>
          <p [ngClass]="{'valid': passwordRequirements.hasSpecialChar}">Mengandung karakter spesial</p>
        </div>
        
        <ion-button expand="block" class="change-btn" (click)="changePassword()">UBAH PASSWORD</ion-button>
      </div>
    </div>
    
    <!-- Desktop View -->
    <div class="desktop-view">
      <div class="content-wrapper">
        <div class="logo-section">
          <img src="/assets/logo.png" alt="Locana Logo" class="logo">
          <h1 class="app-name">LOCANA</h1>
        </div>
        
        <div class="form-container">
          <h2 class="change-password">Perubahan Password</h2>
          
          <div class="input-field password-field">
            <ion-icon name="lock-closed-outline"></ion-icon>
            <ion-input placeholder="Password Lama" [type]="showOldPassword ? 'text' : 'password'" [(ngModel)]="oldPassword"></ion-input>
            <ion-icon [name]="showOldPassword ? 'eye-outline' : 'eye-off-outline'" class="toggle-password" (click)="toggleOldPasswordVisibility()" tappable></ion-icon>
          </div>
          
          <div class="input-field password-field">
            <ion-icon name="lock-closed-outline"></ion-icon>
            <ion-input placeholder="Password Baru" [type]="showNewPassword ? 'text' : 'password'" [(ngModel)]="newPassword"></ion-input>
            <ion-icon [name]="showNewPassword ? 'eye-outline' : 'eye-off-outline'" class="toggle-password" (click)="toggleNewPasswordVisibility()" tappable></ion-icon>
          </div>
          
          <div class="password-requirements" *ngIf="newPassword">
            <p [ngClass]="{'valid': passwordRequirements.minLength}">Minimal 6 karakter</p>
            <p [ngClass]="{'valid': passwordRequirements.hasUpperCase}">Mengandung huruf kapital</p>
            <p [ngClass]="{'valid': passwordRequirements.hasLowerCase}">Mengandung huruf kecil</p>
            <p [ngClass]="{'valid': passwordRequirements.hasNumber}">Mengandung angka</p>
            <p [ngClass]="{'valid': passwordRequirements.hasSpecialChar}">Mengandung karakter spesial</p>
          </div>
          
          <ion-button expand="block" class="change-btn" (click)="changePassword()">UBAH PASSWORD</ion-button>
        </div>
      </div>
    </div>
  </div>
</ion-content>