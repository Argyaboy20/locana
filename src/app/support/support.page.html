<ion-content [fullscreen]="true" class="support-page">
  <div class="support-container">
    <!-- Mobile View -->
    <div class="mobile-view">
      <div class="logo-section">
        <img src="/assets/logo.png" alt="Locana Logo" class="logo">
        <h1 class="app-name">LOCANA</h1>
      </div>
      
      <div class="form-container">
        <h2 class="form-title">Pelaporan Kendala</h2>
        <p class="form-description">Silakan isi form di bawah ini untuk melaporkan kendala yang Anda temui</p>
        
        <div class="input-fields">
          <div class="input-field">
            <ion-icon name="mail-outline"></ion-icon>
            <ion-input placeholder="Email" type="email" [(ngModel)]="email" (ionBlur)="validateEmail()"></ion-input>
          </div>
          
          <div class="email-status" *ngIf="emailStatus">
            <p [ngClass]="emailStatus.class">{{ emailStatus.message }}</p>
          </div>
          
          <div class="input-field file-input">
            <ion-icon name="image-outline"></ion-icon>
            <ion-label>Upload Gambar (Opsional)</ion-label>
            <input type="file" accept="image/*" (change)="onFileSelected($event)" #fileInput>
            <ion-button fill="clear" class="file-select-btn" (click)="fileInput.click()">
              <ion-icon name="attach-outline"></ion-icon>
              Pilih File
            </ion-button>
          </div>
          
          <div class="selected-file" *ngIf="selectedFile">
            <p>{{ selectedFile.name }}</p>
            <ion-icon name="close-circle" (click)="removeFile()"></ion-icon>
          </div>
          
          <div class="input-field textarea-field">
            <ion-icon name="alert-circle-outline"></ion-icon>
            <ion-textarea 
              placeholder="Deskripsikan kendala yang Anda alami" 
              rows="5" 
              [(ngModel)]="kendalaText" 
              (ionBlur)="validateKendala()"
              class="kendala-textarea">
            </ion-textarea>
          </div>
          
          <div class="kendala-status" *ngIf="kendalaStatus">
            <p [ngClass]="kendalaStatus.class">{{ kendalaStatus.message }}</p>
          </div>
          
          <ion-button expand="block" class="submit-btn" (click)="submitReport()">KIRIM LAPORAN</ion-button>
          
          <div class="additional-links">
            <p class="back-to-login">Kembali ke <a href="/tabs/tab3">Halaman Utama</a></p>
            <p class="faq-link">Lihat <a href="/faq">FAQ</a> untuk pertanyaan umum</p>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Desktop View -->
    <div class="desktop-view">
      <div class="desktop-content">
        <div class="logo-section">
          <img src="/assets/logo.png" alt="Locana Logo" class="logo">
          <h1 class="app-name">LOCANA</h1>
        </div>
        
        <div class="form-container">
          <h2 class="form-title">Pelaporan Kendala</h2>
          <p class="form-description">Silakan isi form di bawah ini untuk melaporkan kendala yang Anda temui</p>
          
          <div class="input-fields">
            <div class="input-field">
              <ion-icon name="mail-outline"></ion-icon>
              <ion-input placeholder="Email" type="email" [(ngModel)]="email" (ionBlur)="validateEmail()"></ion-input>
            </div>
            
            <div class="email-status" *ngIf="emailStatus">
              <p [ngClass]="emailStatus.class">{{ emailStatus.message }}</p>
            </div>
            
            <div class="input-field file-input">
              <ion-icon name="image-outline"></ion-icon>
              <ion-label>Upload Gambar (Opsional)</ion-label>
              <input type="file" accept="image/*" (change)="onFileSelected($event)" #fileInput>
              <ion-button fill="clear" class="file-select-btn" (click)="fileInput.click()">
                <ion-icon name="attach-outline"></ion-icon>
                Pilih File
              </ion-button>
            </div>
            
            <div class="selected-file" *ngIf="selectedFile">
              <p>{{ selectedFile.name }}</p>
              <ion-icon name="close-circle" (click)="removeFile()"></ion-icon>
            </div>
            
            <div class="input-field textarea-field">
              <ion-icon name="alert-circle-outline"></ion-icon>
              <ion-textarea 
                placeholder="Deskripsikan kendala yang Anda alami" 
                rows="5" 
                [(ngModel)]="kendalaText" 
                (ionBlur)="validateKendala()"
                (ionInput)="checkOverflow($event)"
                class="kendala-textarea"
                #kendalaTextarea>
              </ion-textarea>
            </div>
            
            <div class="kendala-status" *ngIf="kendalaStatus">
              <p [ngClass]="kendalaStatus.class">{{ kendalaStatus.message }}</p>
            </div>
            
            <ion-button expand="block" class="submit-btn" (click)="submitReport()">KIRIM LAPORAN</ion-button>
            
            <div class="additional-links">
              <p class="back-to-login">Kembali ke <a href="/tabs/tab3">Halaman Utama</a></p>
              <p class="faq-link">Lihat <a href="/faq">FAQ</a> untuk pertanyaan umum</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</ion-content>