<ion-content [fullscreen]="true" class="contact-page">
  <div class="contact-container">
    <!-- Mobile View -->
    <div class="mobile-view">
      <h1 class="page-title">Hubungi Kami</h1>

      <div class="form-container">
        <div class="input-section">
          <div class="input-fields">
            <div class="form-group">
              <ion-label position="floating">Nama Lengkap <span class="required">*</span></ion-label>
              <ion-input type="text" [(ngModel)]="contactForm.fullName" required
                [ngClass]="{'invalid': isFieldInvalid('fullName')}" (ionBlur)="validateField('fullName')">
              </ion-input>
              <div class="error-message" *ngIf="formErrors.fullName">
                {{ formErrors.fullName }}
              </div>
            </div>

            <div class="form-group">
              <ion-label position="floating">Nama Perusahaan <span class="required">*</span></ion-label>
              <ion-input type="text" [(ngModel)]="contactForm.companyName" required
                [ngClass]="{'invalid': isFieldInvalid('companyName')}" (ionBlur)="validateField('companyName')">
              </ion-input>
              <div class="error-message" *ngIf="formErrors.companyName">
                {{ formErrors.companyName }}
              </div>
            </div>

            <div class="form-group">
              <ion-label position="floating">Negara <span class="required">*</span></ion-label>
              <ion-select required [(ngModel)]="contactForm.country" name="country" (ionBlur)="validateField('country')"
                [class.invalid]="isFieldInvalid('country')">
                <ion-select-option *ngFor="let country of countries" [value]="country">{{ country }}</ion-select-option>
              </ion-select>
              <ion-text color="danger" *ngIf="isFieldInvalid('country')">{{ formErrors.country }}</ion-text>
            </div>

            <div class="form-group">
              <ion-label position="floating">Email Bisnis <span class="required">*</span></ion-label>
              <ion-input type="email" [(ngModel)]="contactForm.email" required
                [ngClass]="{'invalid': isFieldInvalid('email')}" (ionBlur)="validateField('email')">
              </ion-input>
              <div class="error-message" *ngIf="formErrors.email">
                {{ formErrors.email }}
              </div>
            </div>

            <div class="form-group">
              <ion-label position="floating">Pesan <span class="required">*</span></ion-label>
              <ion-textarea class="message-input" rows="4" [(ngModel)]="contactForm.message" required
                [ngClass]="{'invalid': isFieldInvalid('message')}" (ionBlur)="validateField('message')">
              </ion-textarea>
              <div class="error-message" *ngIf="formErrors.message">
                {{ formErrors.message }}
              </div>
            </div>
          </div>
        </div>

      </div>

      <div class="button-container">
        <ion-button expand="block" class="submit-btn" (click)="submitForm()">
          Kirim
        </ion-button>
      </div>
    </div>

    <!-- Desktop View -->
    <div class="desktop-view">
      <h1 class="page-title">Hubungi Kami</h1>

      <div class="form-container">
        <div class="input-section">
          <div class="input-fields">
            <div class="form-group">
              <ion-label position="floating">Nama Lengkap <span class="required">*</span></ion-label>
              <ion-input type="text" [(ngModel)]="contactForm.fullName" required
                [ngClass]="{'invalid': isFieldInvalid('fullName')}" (ionBlur)="validateField('fullName')">
              </ion-input>
              <div class="error-message" *ngIf="formErrors.fullName">
                {{ formErrors.fullName }}
              </div>
            </div>

            <div class="form-group">
              <ion-label position="floating">Nama Perusahaan <span class="required">*</span></ion-label>
              <ion-input type="text" [(ngModel)]="contactForm.companyName" required
                [ngClass]="{'invalid': isFieldInvalid('companyName')}" (ionBlur)="validateField('companyName')">
              </ion-input>
              <div class="error-message" *ngIf="formErrors.companyName">
                {{ formErrors.companyName }}
              </div>
            </div>

             <div class="form-group">
              <ion-label position="floating">Negara <span class="required">*</span></ion-label>
              <ion-select required [(ngModel)]="contactForm.country" name="country" (ionBlur)="validateField('country')"
                [class.invalid]="isFieldInvalid('country')">
                <ion-select-option *ngFor="let country of countries" [value]="country">{{ country }}</ion-select-option>
              </ion-select>
              <ion-text color="danger" *ngIf="isFieldInvalid('country')">{{ formErrors.country }}</ion-text>
            </div>

            <div class="form-group">
              <ion-label position="floating">Email Bisnis <span class="required">*</span></ion-label>
              <ion-input type="email" [(ngModel)]="contactForm.email" required
                [ngClass]="{'invalid': isFieldInvalid('email')}" (ionBlur)="validateField('email')">
              </ion-input>
              <div class="error-message" *ngIf="formErrors.email">
                {{ formErrors.email }}
              </div>
            </div>

            <div class="form-group">
              <ion-label position="floating">Pesan <span class="required">*</span></ion-label>
              <ion-textarea class="message-input" rows="4" [(ngModel)]="contactForm.message" required
                [ngClass]="{'invalid': isFieldInvalid('message')}" (ionBlur)="validateField('message')">
              </ion-textarea>
              <div class="error-message" *ngIf="formErrors.message">
                {{ formErrors.message }}
              </div>
            </div>
          </div>
        </div>

        <div class="location-animation">
          <div class="gradient-bg">
            <div class="gps-animation">
              <div class="pin-container">
                <div class="pin"></div>
                <div class="pulse"></div>
              </div>
              <div class="rotating-border"></div>
            </div>
            <div class="animation-text">
              <h3>Locana App</h3>
              <p>Hubungi kami untuk informasi lebih lanjut tentang layanan lokasi</p>
            </div>
          </div>
        </div>
      </div>

      <div class="button-container">
        <ion-button expand="block" class="submit-btn" (click)="submitForm()">
          Kirim
        </ion-button>
      </div>
    </div>
  </div>
</ion-content>